{"version":3,"file":"angular-bigscreen.js.map","sources":["ng://angular-bigscreen/lib/document-ref.ts","ng://angular-bigscreen/lib/bigscreen.service.ts","ng://angular-bigscreen/lib/bigscreen.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class DocumentRef {\n\n\t/**\n\t * Access the native document.\n\t */\n\tpublic get nativeDocument(): Document {\n\t\treturn document;\n\t}\n\n}\n","import { Injectable } from '@angular/core';\n\nimport { DocumentRef } from './document-ref';\n\ninterface FullscreenControls {\n\n\trequestFullscreen: any;\n\n\texitFullscreen: any;\n\n\tfullscreenElement: any;\n\n\tfullscreenEnabled: string;\n\n\tfullscreenchange: string;\n\n\tfullscreenerror: string;\n\n}\n\n@Injectable({\n\tprovidedIn: 'root'\n})\nexport class BigScreenService {\n\n\tprivate fnMap: string[][] = [\n\t\t// Object keys\n\t\t[\n\t\t\t'requestFullscreen',\n\t\t\t'exitFullscreen',\n\t\t\t'fullscreenElement',\n\t\t\t'fullscreenEnabled',\n\t\t\t'fullscreenchange',\n\t\t\t'fullscreenerror'\n\t\t],\n\t\t// New WebKit\n\t\t[\n\t\t\t'webkitRequestFullscreen',\n\t\t\t'webkitExitFullscreen',\n\t\t\t'webkitFullscreenElement',\n\t\t\t'webkitFullscreenEnabled',\n\t\t\t'webkitfullscreenchange',\n\t\t\t'webkitfullscreenerror'\n\n\t\t],\n\t\t// Old WebKit (Safari 5.1)\n\t\t[\n\t\t\t'webkitRequestFullScreen',\n\t\t\t'webkitCancelFullScreen',\n\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t'webkitCancelFullScreen',\n\t\t\t'webkitfullscreenchange',\n\t\t\t'webkitfullscreenerror'\n\n\t\t],\n\t\t// Mozilla\n\t\t[\n\t\t\t'mozRequestFullScreen',\n\t\t\t'mozCancelFullScreen',\n\t\t\t'mozFullScreenElement',\n\t\t\t'mozFullScreenEnabled',\n\t\t\t'mozfullscreenchange',\n\t\t\t'mozfullscreenerror'\n\t\t],\n\t\t// MS\n\t\t[\n\t\t\t'msRequestFullscreen',\n\t\t\t'msExitFullscreen',\n\t\t\t'msFullscreenElement',\n\t\t\t'msFullscreenEnabled',\n\t\t\t'MSFullscreenChange',\n\t\t\t'MSFullscreenError'\n\t\t]\n\t];\n\n\tprivate fn: FullscreenControls;\n\tprivate keyboardAllowed: boolean;\n\n\tconstructor(private documentRef: DocumentRef) {\n\t\tthis.keyboardAllowed = typeof Element !== 'undefined' && 'ALLOW_KEYBOARD_INPUT' in Element;\n\t\tconst ret: any = {};\n\t\tlet val;\n\n\t\tfor (let i = 0; i < this.fnMap.length; i++) {\n\t\t\tval = this.fnMap[i];\n\t\t\tif (val && val[1] in this.documentRef.nativeDocument) {\n\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\t// Map everything to the first list of keys\n\t\t\t\t\tret[this.fnMap[0][i].toString()] = val[i];\n\t\t\t\t}\n\t\t\t\tthis.fn = ret;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic request(elem: any) {\n\t\tconst request = this.fn.requestFullscreen;\n\n\t\telem = elem || this.documentRef.nativeDocument.documentElement;\n\n\t\t// Work around Safari 5.1 bug: reports support for\n\t\t// keyboard in fullscreen even though it doesn't.\n\t\t// Browser sniffing, since the alternative with\n\t\t// setTimeout is even worse.\n\t\tif (/5\\.1[.\\d]* Safari/.test(navigator.userAgent)) {\n\t\t\telem[request]();\n\t\t} else {\n\t\t\telem[request](this.keyboardAllowed ? (Element as any).ALLOW_KEYBOARD_INPUT : {});\n\t\t}\n\t}\n\n\tpublic exit() {\n\t\tthis.documentRef.nativeDocument[this.fn.exitFullscreen]();\n\t}\n\n\tpublic toggle(elem: any) {\n\t\tif (this.isFullscreen()) {\n\t\t\tthis.exit();\n\t\t} else {\n\t\t\tthis.request(elem);\n\t\t}\n\t}\n\n\tpublic onChange(callback: any) {\n\t\tthis.documentRef.nativeDocument.addEventListener(this.fn.fullscreenchange, callback, false);\n\t}\n\n\tpublic onError(callback: any) {\n\t\tthis.documentRef.nativeDocument.addEventListener(this.fn.fullscreenerror, callback, false);\n\t}\n\n\tpublic isFullscreen() {\n\t\treturn Boolean(this.documentRef.nativeDocument[this.fn.fullscreenElement]);\n\t}\n\n\tpublic isEnabled() {\n\t\t// Coerce to boolean in case of old WebKit\n\t\treturn Boolean(this.documentRef.nativeDocument[this.fn.fullscreenEnabled]);\n\t}\n\n\tpublic getElement() {\n\t\treturn this.documentRef.nativeDocument[this.fn.fullscreenElement];\n\t}\n\n}\n","import { NgModule } from '@angular/core';\n\nimport { DocumentRef } from './document-ref';\n\nimport { BigScreenService } from './bigscreen.service';\n\n@NgModule({\n\tdeclarations: [\n\t],\n\timports: [\n\t],\n\tproviders: [\n\t\tDocumentRef,\n\t\tBigScreenService\n\t],\n\texports: [\n\t]\n})\nexport class BigScreenModule {\n}\n"],"names":[],"mappings":"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"}
